{"status": "resolved", "priority": "bug", "title": "Decide what to do about Google Maps SSL warnings on openhatch.org/people/", "milestone": "0.11.01", "superceder": "", "nosylist": ["jesstess, paulproteus"], "assigned": "", "waitingon": "", "keywords": [], "id": "213", "files": [], "history": [{"message": "Marking this resolved since Google has made SSL Maps API free.\n\nThere is a new issue to deal with implementing that. - See <a href=\"issue344\">issue344</a>.\n   \n", "author": "palhmbs"}, {"message": "Well, this ticket says to \"decide\". So, to proceed, we can either:\n\n* Decide to do nothing, and leave the warning. That's probably bad.\n\n* Pay $10K. (not happening, unless someone else really wants to spend it on this)\n\n* Decide to proxy the tiles. (This is more reasonable than it sounds; for one\nthing, we're only at 10% of our monthly bandwidth usage.) I think this is what\nwe should go with, for now.\n\n* Decide to, for all people search pages, redirect the user to an http-based\nversion of OpenHatch.  (That would be such a depressing choice, in terms of user\nsecurity and privacy.)\n\nSo let's decide to proxy the tiles. Next step is to figure out how that'll work.\nThat'll be a separate ticket.\n   \n", "author": "paulproteus"}, {"message": "<a href=\"http://lists.osgeo.org/pipermail/openlayers-users/2010-January/015776.html\">http://lists.osgeo.org/pipermail/openlayers-users/2010-January/015776.html</a> is an\nexample of someone else running into the same problem a year ago.\n\nNot terribly useful, but nice to know we're not alone.\n   \n", "author": "paulproteus"}, {"message": "I just changed the map template to &lt;script src&gt; the Google Maps javascript from\nan OpenHatch URL (an SSL one, if you go to <a href=\"https://openhatch.org/people/\">https://openhatch.org/people/</a>), which\nthen redirects to the non-SSL Google Maps javascript.\n\nAlso, the main Google Maps javascript file just loads in another non-SSL Google\njavascript file. \n\nChromium still shows https crossed-out, and Firefox doesn't show the nice blue\ndomain that indicates it's happy with the SSL setup, so I conclude that\nredirects can't help.\n\nReverse proxies can't really help either -- once the browser grabs the initial\njavascript over HTTPS, it will then load a non-HTTPS javascript file. And I also\nhaven't found any information on getting Google Maps to load tiles from our\nserver, rather than theirs.\n\nSo, um, I guess HTTPS and the Google Maps API are quite at odds.\n   \n", "author": "paulproteus"}, {"message": "One further note:\n\n<a href=\"https://gunnicom.wordpress.com/2010/10/14/redirect-from-https-to-http-works-for-tiles-from-openlayers/\">https://gunnicom.wordpress.com/2010/10/14/redirect-from-https-to-http-works-for-tiles-from-openlayers/</a>\nindicates that we might be able to get away with using a redirect, rather than\nactually proxying.\n   \n", "author": "paulproteus"}, {"message": "Well, the only official way we can the Google Maps API over SSL is to pay Google\nten thousand dollars:\n<a href=\"http://googleenterprise.blogspot.com/2008/09/httpssecuregooglemaps.html\">http://googleenterprise.blogspot.com/2008/09/httpssecuregooglemaps.html</a>\n\nWe would have to serve the tiles ourselves, as well as the Google JavaScript. We\ncould use a reverse proxy to achieve that.\n\nIf we were a 501(c)3, we could request a free Premier key for Google Maps. It\nwould take 3 months for Google to contact us about it.\n\n<a href=\"https://services.google.com/fb/forms/premiergrantapplication/\">https://services.google.com/fb/forms/premiergrantapplication/</a> is the link to that.\n\nWell, what now? I was hoping this would be easy, but I guess it's not!\n   \n", "author": "paulproteus"}, {"message": "It looks like the home page is fine, but <a href=\"https://openhatch.org/people/\">https://openhatch.org/people/</a> does have this issue -- the \nGoogle maps API queries are over HTTP.\n   \n", "author": "jesstess"}, {"message": "Luke Faraone had this to say:\n\n&lt;lfaraone&gt; paulproteus: hai!\n&lt;lfaraone&gt; paulproteus: fyi, on openhatch, my browser is giving SSL warnings\nbecause there are mixes of SSL and non-ssl content\n\nIf you load up <a href=\"https://openhatch.org/\">https://openhatch.org/</a> in Firefox, and use Firebug to look at the\n\"Net\" tab to see what pages we load, it should be all SSL ones. According to\nLuke, it's not all SSL stuff -- that's the bug.\n   \n", "author": "paulproteus"}]}