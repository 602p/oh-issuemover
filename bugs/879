{"status": "need-review", "priority": "bug", "title": "People search doesn't work", "milestone": "", "superceder": "", "nosylist": ["Mykola, jeremyb, paulproteus"], "assigned": "", "waitingon": "", "keywords": [], "id": "879", "files": [{"url": "http://openhatch.org/bugs/file562/unnamed", "author": "Mykola"}], "history": [{"message": "See new PR for your review: <a href=\"https://github.com/openhatch/oh-mainline/pull/188/commits\">https://github.com/openhatch/oh-mainline/pull/188/commits</a>\n   \n", "author": "onceuponatimeforever"}, {"message": "There are two different issues here.\n\n1. If you access openhatch.org/people/ over https, then you run into a problem \nwhere the OpenLayers javascript can't load. This is because we include it as \nhttp:// . That violates the <a href=\"https://developer.mozilla.org/en-\">https://developer.mozilla.org/en-</a>\nUS/docs/Security/MixedContent \"mixed content\" rules (for all browsers, not just \nMozilla-based ones)\n\nThe fix to this issue would probably be to copy that javascript into the oh-\nmainline app, somewhere in static/ , and then embed it from within the site \nrather than from outside the site. That's what's recommended at \n<a href=\"https://github.com/openlayers/openlayers/issues/1025\">https://github.com/openlayers/openlayers/issues/1025</a> .\n\nMake sure that this fix lets the map load fully, over SSL! It might instead just \ncause more mixed content problems if that Javascript fetches map images over \nHTTP.\n\nWhich reminds me: How do you test this locally? That's actually somewhat \ncomplicated. <a href=\"http://www.ianlewis.org/en/testing-https-djangos-development-server\">http://www.ianlewis.org/en/testing-https-djangos-development-server</a> \nis a good link on that, if you have (or can easily get) the stunnel program.\n\n2. We probably don't need the map at all.\n\nThis is a more complicated way to fix the problem, but also perhaps more \nsatisfying.\n\nThere are a few things we could do in the place of the map.\n\nThe first OK thing would probably be to disable the geographic functionality \nentirely, and just return a bullet point list of people who match the search, \nand show their self-stated locations in the bullet point list.\n   \n", "author": "paulproteus"}, {"message": "Ooh! Well, okay. Do you know how to use IRC? If so, join us on #openhatch.\n\nAnd in general, get yourself a copy of the code via the instructions here: \n<a href=\"http://openhatch.readthedocs.org/en/latest/deployment/installation.html\">http://openhatch.readthedocs.org/en/latest/deployment/installation.html</a>\n\nLet us know when you have it running locally.\n   \n", "author": "paulproteus"}, {"message": "Hi,\n\nSure, programming always sound like fun =)\n\nThanks\n\nOn Wed, Oct 2, 2013 at 1:17 PM, Asheesh Laroia &lt;<a href=\"mailto:bugs@openhatch.org\">bugs@openhatch.org</a>&gt; wrote:\n\n&gt;\n&gt; Asheesh Laroia &lt;<a href=\"mailto:asheesh@asheesh.org\">asheesh@asheesh.org</a>&gt; added the comment:\n&gt;\n&gt; Thanks for filing this! Per some discussion, it seems that we can make for\n&gt; a better experience if we don't show the map at all.\n&gt;\n&gt; I'm curious if you're interested in some Python and/or Javascript\n&gt; programming to make that happen. (-:\n&gt;\n&gt; If not, that's fine, we have a big community and can find someone to make\n&gt; this happen. But I thought I'd ping you with that opportunity!\n&gt;\n&gt; ----------\n&gt; status: unread -&gt; chatting\n&gt;\n&gt; __________________________________________\n&gt; Roundup issue tracker &lt;<a href=\"mailto:bugs@openhatch.org\">bugs@openhatch.org</a>&gt;\n&gt; &lt;<a href=\"https://openhatch.org/bugs/issue879\">https://openhatch.org/bugs/issue879</a>&gt;\n&gt; __________________________________________\n&gt;\n   \n", "author": "Mykola"}, {"message": "Thanks for filing this! Per some discussion, it seems that we can make for \na better experience if we don't show the map at all.\n\nI'm curious if you're interested in some Python and/or Javascript \nprogramming to make that happen. (-:\n\nIf not, that's fine, we have a big community and can find someone to make \nthis happen. But I thought I'd ping you with that opportunity!\n   \n", "author": "paulproteus"}, {"message": "My Browser is Chromium Version 28.0.1500.71 Ubuntu 13.04 (28.0.1500.71-\n0ubuntu1.13.04.1), doesn't work in FF either.\nWhen I go to a URL like:\n<a href=\"https://openhatch.org/people/?q=can_mentor:%22C%22\">https://openhatch.org/people/?q=can_mentor:%22C%22</a>\nPlace for the map is empty. It says only that it's \"Loading the map...\".\nSo I go into console and see:\n1) [blocked] The page at <a href=\"https://openhatch.org/people/?q=can_mentor:%22C%22\">https://openhatch.org/people/?q=can_mentor:%22C%22</a> ran \ninsecure content from <a href=\"http://openlayers.org/api/OpenLayers.js.\">http://openlayers.org/api/OpenLayers.js.</a>\n openhatch.org/:1\n2) Uncaught ReferenceError: OpenLayers is not defined\nIn case of FF it's only the second one.\n   \n", "author": "Mykola"}]}