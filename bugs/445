{"status": "resolved", "priority": "bug", "title": "Make deploy script more robust (or document reqs)", "milestone": "0.11.11", "superceder": "", "nosylist": ["jesstess, paulproteus"], "assigned": "jesstess", "waitingon": "", "keywords": [], "id": "445", "files": [], "history": [{"message": "I read the wiki page and ran the script, which was easy, so we can call this closed. \n\nA couple of things, which are probably outside the scope of this ticket but I want to write them \ndown somewhere:\n\n1. If what the site is running isn't always origin/master, we should probably have a dedicated \norigin/live that tracks what the site is running. Otherwise I have no way of knowing what the site is \nrunning and in particular when someone else has advanced master and I run the deploy script it's \nnot obvious what is changing.\n\n2. Can we not use merge commits and instead enforce a linear commit history? It's cleaner and \neasier to reason about.\n   \n", "author": "jesstess"}, {"message": "I changed the deployment procedure so that it SSHs to the main server and then\ncalls a script called \"deploy_myself.sh\" that runs server-side.\n\nThis means that no special requirements are needed client-side anymore. See\n<a href=\"https://openhatch.org/wiki/Deployment\">https://openhatch.org/wiki/Deployment</a> for updated documentation about the deploy\nscript, which now includes a list of requirements.\n\nI'm marking this as need-review. I'd like someone else on the Login Team to mark\nas resolved once you do a successful deploy with this.\n   \n", "author": "paulproteus"}, {"message": "This is a nicety to people on the Login Team that I think is very important.\nTossing it into 0.11.11.\n   \n", "author": "paulproteus"}, {"message": "The deploy script (mysite/scripts/deploy) assumes that you have passwordless login to the \ndeployment server. The script should not make that assumption, or environment prerequisites to \nrunning the script need to be documented somewhere, or the script should live on the deployment \nserver so that there is just one environment to keep in sync with the script.\n   \n", "author": "jesstess"}]}