{"status": "resolved", "priority": "bug", "title": "Bug in Training Mission: Using diff and patch", "milestone": "", "superceder": "", "nosylist": ["JayJays, andrebras, paulproteus, vu2srk"], "assigned": "vu2srk", "waitingon": "", "keywords": [], "id": "754", "files": [], "history": [{"message": "This is resolved with <a href=\"https://github.com/openhatch/oh-mainline/pull/79\">https://github.com/openhatch/oh-mainline/pull/79</a> and \n<a href=\"https://github.com/openhatch/oh-\">https://github.com/openhatch/oh-</a>\nmainline/commit/d52d973ca763e56f6a07b6ea07ade4b7e71ee854 .\n\nThanks vu2srk!\n   \n", "author": "paulproteus"}, {"message": "Some relevant notes:\n\n* <a href=\"http://stackoverflow.com/questions/60950/is-there-a-better-windows-console-\">http://stackoverflow.com/questions/60950/is-there-a-better-windows-console-</a>\nwindow describes how to use \"Mark\" mode to do copy + paste in Windows\n\n* You'll find the relevant code in mysite/missions/diffpatch/*.py\n\n* As discussed on IRC, <a href=\"https://openhatch.org/bugs/issue771\">https://openhatch.org/bugs/issue771</a> has evidence that copy \nand paste on Windows are relevant to the problem\n\nCheers!\n   \n", "author": "paulproteus"}, {"message": "The reason Windows generated diffs fail is because in Linux machines, there are \nwhite spaces generated that do not get generated in Windows. For eg: if you take \nthe diff generated by JayJays (<a href=\"http://codepad.org/xLXnvAwj\">http://codepad.org/xLXnvAwj</a>) and add a single \nwhite space on lines 10, 15 and 18, the diff goes through. I'm checking this out \nand should have an update by Friday (10/18/2012)\n   \n", "author": "vu2srk"}, {"message": "Interesting, so there are at least two separate problems.\n\n* git-diff doesn't take the \"-r\" option, so we should probably stop \nrecommmending its use. (That's a bug in the templates.)\n\n* <a href=\"http://codepad.org/xLXnvAwj\">http://codepad.org/xLXnvAwj</a> (generated by Windows by JayJays) doesn't \nvalidate.\n\nThe way to fix that is to put it into the test suite, make sure it fails \nvalidation, and then hack the code until the tests pass.\n   \n", "author": "paulproteus"}, {"message": "I've experienced the same problem. I think the system is using git-diff instead of diff\nand you can confirm the options are different from its man pages.\n\nusing \"/usr/bin/diff -ru recipes recipes-us\" worked for me.\n\n:)\n   \n", "author": "andrebras"}, {"message": "I confirm the presence of bugs on OS X too. While using patch command to create unified patch.\n&gt; diff -ur recipes us &gt;./outputt\nfatal: invalid diff option/value: -ur\n\nInstead this works.\n&gt; diff -u recipes us &gt;./outputt\n\nHowever when patch containing diff file(<a href=\"http://codr.cc/s/09a6c163/\">http://codr.cc/s/09a6c163/</a>) is uploaded, it returns the \nfollowing error. \n\nPatch does not modify file \"Skillet.txt\", which it should modify.\n   \n", "author": "punjcoder"}, {"message": "Diffing indiviual files\n\nUsing git bash on windows vista creates the following solution:\n<a href=\"http://codepad.org/xLXnvAwj\">http://codepad.org/xLXnvAwj</a>\n\nUnfortunately, it is not accepted. \n\nI searched for help on irc and was told, it is a bug. \nThanks.\n   \n", "author": "JayJays"}]}