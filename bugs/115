{"status": "resolved", "priority": "wish", "title": "For diff mission, catch the situation where the diff is created in reverse. If so, warn the user.", "milestone": "0.10.11", "superceder": "", "nosylist": ["jesstess, paulproteus, stump"], "assigned": "jesstess", "waitingon": "", "keywords": [], "id": "115", "files": [{"url": "http://openhatch.org/bugs/file95/issue115.patch", "author": "jesstess"}, {"url": "http://openhatch.org/bugs/file96/issue115.patch", "author": "jesstess"}, {"url": "http://openhatch.org/bugs/file97/issue115.patch2", "author": "jesstess"}], "history": [{"message": "I just merged and deployed this. Jess, thanks a bundle for doing this!\n   \n", "author": "paulproteus"}, {"message": "Oops!\n\nI will let it through and then merge and push this!\n   \n", "author": "paulproteus"}, {"message": "Asheesh,\n\nI did that last night -- the auto-response was that it was being held in\nmoderation. I can subscribe to the list and resubmit if necessary.\n   \n", "author": "jesstess"}, {"message": "This looks great -- I will apply it to origin/master as soon as you email\n<a href=\"mailto:devel@lists.openhatch.org\">devel@lists.openhatch.org</a> with the licensing statement.\n\nAs per <a href=\"http://openhatch.org/wiki/How_we_handle_patches\">http://openhatch.org/wiki/How_we_handle_patches</a> : Please email\n<a href=\"mailto:devel@lists.openhatch.org\">devel@lists.openhatch.org</a> saying that you're okay with your work being under\nAGPLv3. If you're willing, it'd be nice if you say 'the Affero GPL, version 3 or\nlater, at your option'.\n   \n", "author": "paulproteus"}, {"message": "Uploading a new patch using the preferred \"git format-patch\" format.\n   \n", "author": "jesstess"}, {"message": "(Jess, I'm assigning this to just to reflect the current state. If you decide\nyou'd rather it not be assigned to you, let me know and/or change the value on\nthe ticket.)\n   \n", "author": "paulproteus"}, {"message": "Hi Jess! This looks great. Here's some feedback:\n\nIt's amazing that the test suite has a make_flipped_patch function and that we\nweren't using it yet. Thanks for picking up on that and using it, rather than\nwriting a new one!\n\nThe patch totally works, and passes your test. It also has quite reasonable style!\n\nFor me to commit and push this, here is what I need from you:\n\nOptional, but preferred: You do a local commit with git, and give the commit a\nlog message. Then re-export the patch with \"git format-patch origin/master\", and\nupload it to the tracker.\n\nRequired: As per <a href=\"http://openhatch.org/wiki/How_we_handle_patches\">http://openhatch.org/wiki/How_we_handle_patches</a> : Please email\n<a href=\"mailto:devel@lists.openhatch.org\">devel@lists.openhatch.org</a> saying that you're okay with your work being under\nAGPLv3. If you're willing, it'd be nice if you say 'the Affero GPL, version 3 or\nlater, at your option'.\n\nThen I'll push and deploy this!\n\n(That does mean you'll basically have to join the OpenHatch Devel list. At\nleast, briefly.)\n\n(-:\n\nAgain, thanks!\n\nP.S. I tried to delete the first of the patches you uploaded to keep the ticket\nclean, but Roundup gave me an error.\n   \n", "author": "paulproteus"}, {"message": "I don't think I can edit/remove uploaded patches. Maybe this submission with the\nsame name will clobber the other one. (It uses the assert_(foo in bar) idiom\nthat the rest of the file uses to compensate for there being no assertIn in\nunittest before Python 2.7)\n   \n", "author": "jesstess"}, {"message": "The diff adds a special message and unit tests for the backward diff case.\n\nTested against the mission test suite and by submitting a backwards diff to a\nlocal instance of the diffsingle mission.\n   \n", "author": "jesstess"}, {"message": "It should be pretty easy to add a test for this.\n\nTake a look at \"def test_do_mission_incorrectly\" in\nmysite/missions/diffpatch/tests.py\n   \n", "author": "paulproteus"}, {"message": "If you upload the diff in reverse, it would be nice to see that that's the error \nyou made!\n   \n", "author": "paulproteus"}]}