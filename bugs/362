{"status": "resolved", "priority": "bug", "title": "Folder diff mission should recognize backwards diff", "milestone": "0.11.04", "superceder": "", "nosylist": ["Lorthirk, TravisB, paulproteus"], "assigned": "TravisB", "waitingon": "", "keywords": [], "id": "362", "files": [{"url": "http://openhatch.org/bugs/file239/0001-Fix-diffpatch-mission-step-3-to-include-a-special-me.patch", "author": "TravisB"}, {"url": "http://openhatch.org/bugs/file236/badpatch", "author": "TravisB"}], "history": [{"message": "Uploaded git patch!\n   \n", "author": "TravisB"}, {"message": "TravisB, this is great!\n\nCan you re-submit this after making a local commit, by following \n<a href=\"http://openhatch.org/wiki/How_to_generate_patches_with_git_format-patch\">http://openhatch.org/wiki/How_to_generate_patches_with_git_format-patch</a>\n\n(You don't have to create a branch on your machine if you don't want.)\n   \n", "author": "paulproteus"}, {"message": "I've reviewed this, and it throws the error properly, ./bin/mysite test missions \nare fine. So it totally fixes this.\n   \n", "author": "palhmbs"}, {"message": "Uploading the reverse diff so people don't have to bother doing it themselves.\n[badpatch]\n   \n", "author": "TravisB"}, {"message": "Submitted patch.  Change note or contact me in IRC (TravisB) with any questions \nor concerns.\n\nContains:\n     * Added a check and special error message if users submit a reverse patch on \nthe recursive patch section of the mission\n     * Test function\n   \n", "author": "TravisB"}, {"message": "Patch.  Test case coming later tonight.\n   \n", "author": "TravisB"}, {"message": "I'll be working on this in the late afternoon 04/20/2011.  We'll see how it goes!\n   \n", "author": "TravisB"}, {"message": "If someone wants to tackle this, here's what you need to know:\n\n* Take a look at the diff mission -- mysite/missions/diffpatch/views.py\n\nThe implementation of the steps detects certain kinds of errors. You're going to\nhave to add detection of a new error: the patch being reversed. This requires\ncreating a new Exception subclass that the gets detected and raised.\n\nYou should also check out the test suite for the diffpatch mission:\n\nmysite/missions/diffpatch/tests.py\n\nYou'll have to write a test for this new case.\n\n<a href=\"http://openhatch.org/wiki/Automated_testing\">http://openhatch.org/wiki/Automated_testing</a> talks a little more about how we use\ntest suites.\n   \n", "author": "paulproteus"}, {"message": "While doing the third part of the diff mission, i switched the two folders \nsubmitted to the diff command, thus creating a backwards diff. The page resulted in \nthe error \"The patch would not apply correctly to the file \"Ratatouille.txt\" (or \nsomething similar). I think it should recognize a backwards diff instead.\n   \n", "author": "Lorthirk"}]}