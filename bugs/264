{"status": "resolved", "priority": "feature", "title": "Create a central login system", "milestone": "0.11.02", "superceder": "", "nosylist": ["paulproteus, pythonian4000"], "assigned": "pythonian4000", "waitingon": "", "keywords": [], "id": "264", "files": [], "history": [{"message": "As per all blocking issues (72, 265, 23) being resolved, this is complete!\n   \n", "author": "pythonian4000"}, {"message": "Using superseder wrong - that is for duplicates basically, or at least new bugs\nthat replace this one. Those should really be blockers...\n   \n", "author": "pythonian4000"}, {"message": "Setting this to 0.11.02 as if and once <a href=\"issue23\">issue23</a> is done, this can be closed\n(setting up forums as per <a href=\"issue272\">issue272</a> is not a blocker on this as they do not exist\nyet).\n   \n", "author": "pythonian4000"}, {"message": "For some reason I never noticed the \"Superseder\" field...\n   \n", "author": "pythonian4000"}, {"message": "The Django side of things has been deployed, as per\n<a href=\"https://openhatch.org/bugs/issue265\">https://openhatch.org/bugs/issue265</a>\n   \n", "author": "pythonian4000"}, {"message": "Alright, I will do so :)\n\nI've had trouble setting up my own MediaWiki under /wiki/ to test-drive it because the standard \n./bin/mysite runserver is being proxies to by Apache so subdues are a no-no, and when I try and \nemulate the production setup via ./bin/production.wsgi I get Apache errors about bad user deploy, \nwho I see is the user on lined running OH. I will be at a real computer in about an hour so I will likely \nbe asking for help then!\n   \n", "author": "pythonian4000"}, {"message": "You asked for \"thoughts\", and I think: let's start by using the django-mediawiki and django-phpbb \nauthentication that already exists and deploy it.\n\nIt'd be super great to have this.\n   \n", "author": "paulproteus"}, {"message": "Oh, and now that I chack, someone has already replied =)\n\nThey suggest creating a JSON web service in Django for the various actions we\nrequire, such as login, session verification and logout (a bit more than what I\nhad suggested at the end of the discussion below), or better, to redirect to\nDjango to perform login and logout.\n\nI had been speculating on all of the above, but now with outside confirmation\n^_^ these are my thoughts:\n\nFor both MediaWiki and Roundup, replace any of their login pages/boxes with\nlinks to the main OpenHatch login page, supplying 'next=' arguments on the URL.\nOpenHatch then logs them in and redirects them back to whence they came.\nSimilarly for logouts. This can be done no matter how we implement the Django\nside of things.\n\n(This would mean that <a href=\"https://openhatch.org/bugs/issue72\">https://openhatch.org/bugs/issue72</a> would be a blocker on\nthis; while FWIR MediaWiki URLS always have underscores instead of spaces,\nRoundup ones can have spaces in the arguments and the issue indicates it may\naffect some special characters.)\n\nThen, every page in both MediaWiki and Roundup would need some sort of session\nverification to see if Django is logged in (i.e. they are either logged in from\nelsewhere or have just been returned, and they haven't logged out elsewhere),\nand if so or not then update its own session. This session verification is what\nwould either be a MySQL query or a JSON request, and this is where I'm not sure\nof the best path.\n\nThoughts?\n   \n", "author": "pythonian4000"}, {"message": "Following from the discussion below, I posted a question on StackOverflow:\n<a href=\"http://stackoverflow.com/questions/4892898/central-login-for-django-mediawiki-and-roundup-without-compromising-user-data\">http://stackoverflow.com/questions/4892898/central-login-for-django-mediawiki-and-roundup-without-compromising-user-data</a>\n   \n", "author": "pythonian4000"}, {"message": "Asheesh and I had a discussion about this:\n<a href=\"http://irclogs.jackgrigg.com/irc.freenode.net/openhatch/2011-02-03#i_2527837\">http://irclogs.jackgrigg.com/irc.freenode.net/openhatch/2011-02-03#i_2527837</a>\n   \n", "author": "pythonian4000"}, {"message": "Integrating Django and Mediawiki authentication:\n<a href=\"https://openhatch.org/bugs/issue265\">https://openhatch.org/bugs/issue265</a>\n\nIntegrating Django and Roundup authentication:\n<a href=\"https://openhatch.org/bugs/issue23\">https://openhatch.org/bugs/issue23</a>\n   \n", "author": "pythonian4000"}, {"message": "This bug tracks the creation of a central login system for the various\ncomponents of OpenHatch - Django, MediaWiki and Roundup at present (possibly a\nforum later?).\n   \n", "author": "pythonian4000"}]}