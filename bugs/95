{"status": "resolved", "priority": "feature", "title": "Move Twisted bug tracker import code to same format as TahoeLafsTrac", "milestone": "", "superceder": "", "nosylist": ["paulproteus, pythonian4000"], "assigned": "", "waitingon": "", "keywords": ["bitesize"], "id": "95", "files": [{"url": "http://openhatch.org/bugs/file33/Trac_bug_project_name_configured_by_format_string.patch", "author": "pythonian4000"}, {"url": "http://openhatch.org/bugs/file34/fix_Trac_bug_blank_importance.patch", "author": "pythonian4000"}, {"url": "http://openhatch.org/bugs/file28/issues_94_95_97_update_and_fix_Trac_bug_importer.patch", "author": "pythonian4000"}, {"url": "http://openhatch.org/bugs/file31/remove_old_Trac_code_from_search_daily_tasks.patch", "author": "pythonian4000"}], "history": [{"message": "All are applied and merged. You rock my socks.\n   \n", "author": "paulproteus"}, {"message": "Setting status to in-progress because paulproteus still hasn't set the\nneed-review status as a not-closed type! =)\n   \n", "author": "pythonian4000"}, {"message": "A quick correction to an earlier one of these fixes - if a Trac bug ticket\ndoesn't have an importance field, the importer sets the bug importance to ''\nrather than 'N/A'. Apply this patch after the issues_94_95_97... patch.\n   \n", "author": "pythonian4000"}, {"message": "As requested, the change so that some Trac importers can have their bug project\nname set to the overall project name, and others to the component name. This is\nimplemented via a format string, where the keywords \"{project}\" and\n\"{component}\" are replaced by the overall project name and the component name\nrespectively.\n\nAnd sorry paulproteus, I was not going to go back and split up my previous\ncommits, as the various changes were all in the same files - WAAAY too much\neffort required =P so apply this patch on top of the others.\n   \n", "author": "pythonian4000"}, {"message": "Hmm, noticed I left some old and unnecessary code from the old Trac format for\nTwisted and Sugar Labs in search_daily_tasks.py - second patch removes it (apply\nafter issues_94_95_97... patch).\n\nAlso, not sure what I should be setting the bug status to when submitting a\npatch - \"in-progress\" seems the closest, so that's what I will use until told\notherwise. Would be useful though to maybe have a \"patch-submitted\" status to\nmake it a bit clearer that there is something there to be looked at.\n   \n", "author": "pythonian4000"}, {"message": "Here is (what I hope is) the final patch. It covers the migration of Twisted and\nSugar Labs to the new Trac format, addition of many new Trac bug trackers,\nfixing of the Trac importer so as to not get FUBAR with any of the new trackers,\nand removal of the old Trac import code for Twisted and Sugar Labs.\n   \n", "author": "pythonian4000"}, {"message": "Having a variety of issues with Trac. None of them life-threatening, but I have\nput an issue up: <a href=\"https://openhatch.org/bugs/issue97\">https://openhatch.org/bugs/issue97</a>\n\nI will get the blocking problems fixed and upload a new patch for this issue, so\nit and 94 can then be closed.\n   \n", "author": "pythonian4000"}, {"message": "Here is the migration for Twisted and Sugar Labs from old to new, as per below.\nAlso, becuse it was the exact same process as for these two (and because I was\nbored/procrastinating), I have added most of the Trac bugtrackers from the\nBug_trackers wiki page.\n   \n", "author": "pythonian4000"}, {"message": "I have migrated both Twisted and Sugar Labs to the new format, and also tweaked\nthe TracBug class so that it uses a bitesized_keyword that is passed in rather\nthan 'easy' (since Sugar Labs, for example, use 'sugar-love'). I don't want to\ncommit and make the patch though until I have gone through with someone about\nusing 'git rebase' (new Git user, don't want to break anything =D ).\n   \n", "author": "pythonian4000"}, {"message": "Right now, the code for importing bugs from Trac bug trackers exists in two forms.\n\nThe first form kind of sucks; that form is used for the Twisted bug tracker.\n\nThe second form is way nicer. That's the form used by the TahoeLafsTrac class.\n\nWe should migrate the Twisted bug import code to the new format.\n\n(A similar bug exists for Sugar Labs.)\n   \n", "author": "paulproteus"}]}