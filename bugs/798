{"status": "resolved", "priority": "feature", "title": "Code should be contained in scrollable boxes", "milestone": "", "superceder": "", "nosylist": ["nickdirienzo, paulproteus, shivateja"], "assigned": "shivateja", "waitingon": "", "keywords": ["bitesize"], "id": "798", "files": [{"url": "http://openhatch.org/bugs/file550/0001-Add-SyntaxHighlighter-Issue-798.patch", "author": "shivateja"}, {"url": "http://openhatch.org/bugs/file526/Screenshot%20from%202012-12-14%2016%3A15%3A22.png", "author": "nickdirienzo"}], "history": [{"message": "I've merged the patch by @ccarroll on github that resolves this. Huge thanks!\n   \n", "author": "paulproteus"}, {"message": "I think the simplest fix for the most important bit of this problem is to look \nat:\n\n<a href=\"http://openhatch.org/missions/svn/checkout\">http://openhatch.org/missions/svn/checkout</a>\n\nRecognize that the \"svn checkout ...\" line is supposed to be one command, but \nalso notice that it can very easily wrap onto two lines, so people don't realize \nit's one long command.\n\nI think the best fix here is, as people have said below, to make that \npreformatted area get a left-right scrollbar, so it always appears on just one \nline, even if it's a line that you have to scroll. To achieve that, I think that \nthe CODE tag needs to be given the \"overflow-x: scroll;\" rule.\n\nRelevant things to know to find the issue here and fix it:\n\n$ git grep 'svn checkout'\n\nThis command will show you the path to the template that contains the 'svn \ncheckout' line.\n\nAlso, the CSS for the OpenHatch web app is mostly in \n\"static/less/base/base.less\", so you should be able to find the current rules \nfor the CSS there, so you can change them there. (The \"*.less\" file extension \nrefers to the fact that we use <a href=\"http://lesscss.org/\">http://lesscss.org/</a> , but that mostly won't \naffect you I think.)\n\n(shivateja: we might let someone at an in-person OpenHatch event take this bug, \nbut I do want to say thank you for your research so far!)\n\nIt would be great if the people who work on this bug use 'git grep' to look for \nother uses of the 'code' tag, with e.g. this command:\n\n$ git grep -F '&lt;code&gt;'\n\nNote also that you need to make sure that you don't add horizontal scrollbars to  \n*all* the &lt;code&gt; tag instances. If the code tag doesn't need a scrollbar, don't \nput one on it.\n   \n", "author": "paulproteus"}, {"message": "Yeah, so let's just do the CSS modifications for now. I'll keep this \"Assigned \nto\" you, unless you decide otherwise!\n   \n", "author": "paulproteus"}, {"message": "Hi Asheesh. Thanks for the inputs. I was expecting this reply. I don't think\nusing a syntax highlighter for one line commands is a good idea. Atleast, from\nthe one's I've experimented with, none of them were satisfactory. I tried\nhighlight.js (<a href=\"http://jsfiddle.net/jDUrC/1/\">http://jsfiddle.net/jDUrC/1/</a>). It doesn't seem to be working\nproperly with one liners(<a href=\"http://jsfiddle.net/jDUrC/2/\">http://jsfiddle.net/jDUrC/2/</a> works!). I am exploring\nother frameworks too. Wouldn't some css modifications solve the issue?\n   \n", "author": "shivateja"}, {"message": "So, next steps:\n\nIf you want to split out the patches that remove &lt;tt&gt; I would merge that \nlickety-split.\n\nFor syntax highlighting, I would recommend <a href=\"http://craig.is/making/rainbows\">http://craig.is/making/rainbows</a> . \nAnother reasonable option seems to be <a href=\"http://google-code-\">http://google-code-</a>\nprettify.googlecode.com/svn/trunk/styles/index.html\n\nBut that only adds syntax highlighting; it doesn't make the code blocks \nhorizontally scrollable. \n\nI would, therefore, focus on creating a CSS class for these code snippets \nhorizontally scrollable and have a max width. I'm happy to provide more \npointers, but I think Googling [css overflow scroll] would be the first thing I \nwould start with.\n   \n", "author": "paulproteus"}, {"message": "Hi shivateja!\n\nI took a look at this, and have a few bits of feedback.\n\nFirst of all, thank you for beginning to look into it!\n\nI didn't know TT is deprecated in modern HTML! But you're right, it seems, from \nmy reading.\n\nWhen you write that you \"filed a bug there\" about the CODE tag not working for \nsyntax highlighting, do you mean a bug against OpenHatch or a bug against the \nSyntaxHighlighter JS project? It's best to provide a link to such a bug when you \nsay you filed it.\n\nThank you for providing a link to a sample page \n&lt;<a href=\"http://127.0.0.1:8000/missions/git/description\">http://127.0.0.1:8000/missions/git/description</a>&gt; where we can see the changes \nyou made!\n\n\nThose general questions aside, I have some reservations about merging this.\n\nThanks for providing the jsfiddle at <a href=\"http://jsfiddle.net/XwyzS/\">http://jsfiddle.net/XwyzS/</a> . One thing \nthat's true about the code in the jsfiddle, as well as the code on pages like \n<a href=\"http://127.0.0.1:8000/missions/windows-setup/navigating\">http://127.0.0.1:8000/missions/windows-setup/navigating</a> , is that every line \ngets a number (e.g. \"1\") at the start, and a question mark that links to info \nabout SyntaxHighlighter. I find those are visually distracting when trying to \nread a one-line command.\n\nAdditionally, the way that SyntaxHighlighter stores information about its \nconfiguration -- by embedding JSON in the HTML class attribute -- means our HTML \nbecomes invalid and fairly obscure. So I'd actually prefer to use a different JS \npackage than this one.\n\nIt is also very confusing that \"ls\" simply doesn't render at all in that \njsfiddle! It makes me concerned  that our future attempts to use it will also be  \nbuggy.\n\nHave to run away for a sec to charge my laptop; back in a bit.\n   \n", "author": "paulproteus"}, {"message": "Please review the attached patch. \"ls\" command is not being\ndisplayed(<a href=\"http://jsfiddle.net/XwyzS/)(See\">http://jsfiddle.net/XwyzS/)(See</a> page\n/missions/windows-setup/navigating). As &lt;tt&gt; is deprecated, I replaced all those\ntags with appropriate tags. Autoloader works fine now. It was not working with\ncustom tags(like using \"code\" instead of the default \"pre\"), filed a bug there.\n   \n", "author": "shivateja"}, {"message": "Hi Asheesh,\nSorry for creating confusion. I resolved while I was making the application for\nGSoC. But after a bit of testing, I figured out SyntaxHighlighter's autoloader\nof brushes was not working for some unknown reason which I still couldn't figure\nit out. Attached a patch assuming code on openhatch is completely bash commands.\nGive me a day to submit final patch.\n\n(Sorry for the deleted comments. It was a mistake)\n\nThanks.\n   \n", "author": "shivateja"}, {"message": "I feel that code snippets should be contained in their own boxes, so if a user \nvisits with a smaller screen they do not assume that each line is its own \ncommand to enter on the terminal. \n\nFor example, <a href=\"http://openhatch.org/missions/svn/checkout,\">http://openhatch.org/missions/svn/checkout,</a> on a Chromebook and my \nMacbook Pro the snippet \"svn checkout svn://openhatch.org/nickdirienzo/trunk \nsvn_missions\" looks like it is two commands (see attached screenshot). \n\nThere's Pygments, but that would add more server-side work. Or it could be done \nusing SyntaxHighlighter client-side. I mean there are other options, but these \nare the two that came to my head first. \n\nThoughts?\n   \n", "author": "nickdirienzo"}]}