{"status": "resolved", "priority": "urgent", "title": "Stop Nagios complaining the moment Bugs go stale", "milestone": "0.11.03", "superceder": "", "nosylist": ["paulproteus, pythonian4000"], "assigned": "paulproteus", "waitingon": "", "keywords": [], "id": "353", "files": [], "history": [{"message": "This should be helped by <a href=\"issue368\">issue368</a>. Once that is implemented, temporary code can\nbe added to refresh any and all stale Bugs (that are not from hard-coded\ntrackers - those will have to wait until <a href=\"issue260\">issue260</a> is completed) that should\nhopefully alleviate or remove this problem.\n   \n", "author": "pythonian4000"}, {"message": "My answer to this is that I fiddled with the code so that it permits itself to\nredownload bugs after only 20 hours of 'staleness':\n\n<a href=\"http://gitorious.org/openhatch/oh-mainline/commit/551133afa4cbf40d6cb004c3797b513d05f967b4\">http://gitorious.org/openhatch/oh-mainline/commit/551133afa4cbf40d6cb004c3797b513d05f967b4</a>\n\nI think this fixes it, but it's \"needs-review\" for now. I'll mark \"resolved\"\nonce Nagios stops complaining!\n   \n", "author": "paulproteus"}, {"message": "Currently, every 24 hours Bugs go stale and need refreshing. This is expected\nbehaviour, but because the number of bugs needing refresh is no longer zero,\nNagios complains. A way to fix this is to implement a time delay in the meta\npage error code check method, so that it only throws a WARNING if the number has\nbeen the same for at least half an hour, or an hour, or some period of time\nlonger than zero.\n\nIRC discussion on this:\n\n&lt;paulproteus&gt; Well, basically, I do want to do *something* that causes me to\nreceive fewer emails about emergencies that aren't really emergencies.\n&lt;pythonian4000&gt; Ah, I have an idea for that.\n&lt;paulproteus&gt; (while also alerting us when something truly is wrong) /me listens\n&lt;pythonian4000&gt; We don't care if the number of bugs between 1 and 2 days old\ngoes up, as we expect that every day.\n&lt;pythonian4000&gt; At present this causes a PROBLEM state.\n&lt;paulproteus&gt; That's true enough.\n&lt;paulproteus&gt; It kind of is a problem, but we could at least not get emails, maybe.\n&lt;paulproteus&gt; I mean, really, we shouldn't have them be any staler than a day.\n&lt;pythonian4000&gt; Instead, we should check in the meta page not only that the\nnumber is non-zero, but that it has been the same for, say, half an hour.\n&lt;pythonian4000&gt; But if anything crops up on the 2-day number then have it\ncomplain, as is the current case.\n&lt;paulproteus&gt; I'd be okay-enough with that. In the future I'd rather that we\nundo that once we can reliably refresh bugs about once a day.\n&lt;paulproteus&gt; pythonian4000: File a bug for your way?\n   \n", "author": "pythonian4000"}]}