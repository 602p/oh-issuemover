{"status": "resolved", "priority": "bug", "title": "Searching at /people/ for someone's username should let you find them", "milestone": "later", "superceder": "", "nosylist": ["jacquiesue, palhmbs, paulproteus"], "assigned": "jacquiesue", "waitingon": "", "keywords": ["bitesize"], "id": "450", "files": [{"url": "http://openhatch.org/bugs/file456/0001-Updated-the-default-case-for-people-search-AllTagsQu.patch", "author": "jacquiesue"}, {"url": "http://openhatch.org/bugs/file457/0002-remove-invalid-comment-in-file.patch", "author": "jacquiesue"}], "history": [{"message": "Some feedback on these patches:\n\nIt's good to separate style fixes into separate commits. I'm glad you fixed my\nmis-spelling of the word \"quotation\", but it's easier to review if that is its\nown separate patch.\n\nIn general, it's usually pretty easy for me to review a series of patches; try\nto ensure that each one is somehow a coherent change.\n\ngit on my computer complains about some lines of yours that have a \" \" character\n(space) as the last character on the line.\n\nI didn't realize that one could use the | character to combine QuerySet objects\nlike that. That's awesome.\n\nYour test is also of good quality! I'm glad you test the case-insensitivity. I\ngenerally prefer to make assertions about the contents of a list, but since you\nhave a QuerySet, it's a little harder. For that reason, you could convert it to\na list like:\n\nself.assertEqual([User.objects.get(username='spinoza')], list(atq_filter_spinoza))\n\nThe way you have it is fine, so I'm not going to change it.\n\nAlso, you have what seems to be a debugging print left commented-out at the top\nof the\nPeopleFinderTagQueryTests.test_all_tags_insensitive_case_search_multiple_names\nmethod. I'll remove that, although it's a great thing to have while testing. I\nalso like to do \"import pdb; pdb.set_trace()\" to break into a debugger when\nrunning my own tests.\n\nI've pushed this, and will deploy it once it passes the Hudson automated testing\nat <a href=\"http://linode2.openhatch.org:8080/\">http://linode2.openhatch.org:8080/</a> . Yay -- marking as 'resolved'!\n   \n", "author": "paulproteus"}, {"message": "forgot to delete a line, adding patch for that\n   \n", "author": "jacquiesue"}, {"message": "Updated the people search. \n\nOne word in the search text will search: username, tags, first name, and last\nname, then return all matches.\n\nMore than one word in the search text will search: tags (as one string, e.g.\n\"regular expressions\"), first name (for each word), and last name (for each\nword) then return all the matches.\n\nThe searches are case insensitive.\n\nUpdated and ran test: python manage.py test profile.PeopleFinderTagQueryTests,\nalso ran python manage.py test profile.\n   \n", "author": "jacquiesue"}, {"message": "Realistically, this depends on <a href=\"issue89\">issue89</a> and \n<a href=\"http://lists.openhatch.org/pipermail/devel/2011-July/002150.html\">http://lists.openhatch.org/pipermail/devel/2011-July/002150.html</a>\n\nUn-marking as bitesize.\n   \n", "author": "paulproteus"}, {"message": "Mkman is taking a look at this. \n\nHe asked for some help on IRC, so I pointed him at \nmysite/profile/templates/profile/people.html\nmysite/profile/templates/profile/search_people.html\n\nI also think that mysite/profile/controllers.py is relevant.\n\nHope this helps track down the bogey.\n   \n", "author": "palhmbs"}, {"message": "Right now, when you search on /people/ for a username, you actually can't find a\nperson. We only let you search by metadata like project and people's tags.\n\nThat's kind of silly, and ProfSheinRIT on IRC ran into this problem. So here's a\nbug for it, targeted for closure during June (0.11.06).\n   \n", "author": "paulproteus"}]}