{"status": "resolved", "priority": "feature", "title": "Add debug_toolbar to buildout", "milestone": "0.11.03", "superceder": "", "nosylist": ["palhmbs, paulproteus"], "assigned": "palhmbs", "waitingon": "", "keywords": [], "id": "345", "files": [{"url": "http://openhatch.org/bugs/file192/0001-Added-django-debug-toolbar-back-into.patch", "author": "palhmbs"}], "history": [{"message": "This is totally done now.\n   \n", "author": "paulproteus"}, {"message": "I added a version of this to buildout, and pushed it.\n\nIf Hudson likes it, I'll deploy.\n   \n", "author": "paulproteus"}, {"message": "Ok this is it.\n   \n", "author": "palhmbs"}, {"message": "Two points of feedback:\n\n1. After applying this patch, ./bin/buildout fails.\n\nPaul, maybe you have a system-wide install of the debug toolbar Python package?\nIf so, remove that so that you can simulate what it's like for other people who\ndon't have that.\n\n2. It doesn't actually exclude itself if DEBUG is False, but that is okay\nbecause the middleware itself excludes itself when DEBUG is False.\n   \n", "author": "paulproteus"}, {"message": "Decided to leave deployment_settings.py alone, and only load debug_toolbar when\nDEBUG = True.\n\nHopefully this resolves the issue, please review patch.\n   \n", "author": "palhmbs"}, {"message": "Ok, on further Googling I found an example of filtering for production.\n<a href=\"https://bitbucket.org/stephenmcd/mezzanine/src/cd189938f144/mezzanine/utils/conf.py\">https://bitbucket.org/stephenmcd/mezzanine/src/cd189938f144/mezzanine/utils/conf.py</a>\n\nWill try to implement this method.\n   \n", "author": "palhmbs"}, {"message": "I've looked into this, and if I check whether the INSTALLED_APPS dict contains\ndebug_toolbar - then remove it.\n\nIs that the best way to do this?\n   \n", "author": "palhmbs"}, {"message": "In order to enable the debug toolbar, you'll have to make changes to \nINSTALLED_APPS and other settings, right?\n\nMake those changes, too, and then make sure they don't show up in \ndeployment_settings.py by writing some code to filter out the changes.\n\nI'm happy to advise on any of that that you need help with.\n   \n", "author": "paulproteus"}, {"message": "After discussing things and creating a patch to change setup.py, \nit was decided to only add debug_toolbar to buildout.cfg.\n\nAttached is the patch for review.\n   \n", "author": "palhmbs"}, {"message": "I published a wiki about adding debug_toolbar to Openhatch for development use\nhere.... <a href=\"http://openhatch.org/wiki/Enabling_the_debug_toolbar\">http://openhatch.org/wiki/Enabling_the_debug_toolbar</a>\n\npaulproteus suggested...\n1. I think you should make the debug toolbar part of the site's buildout stuff.\n2. I guess we should disable it on the deployment.\n\nI'm in the process of adding it oh-mainline/setup.py\n   \n", "author": "palhmbs"}]}