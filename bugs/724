{"status": "resolved", "priority": "urgent", "title": "My Widget page causes a 500 server error!", "milestone": "0.12.02", "superceder": "", "nosylist": ["aldeka, ashams, paulproteus"], "assigned": "paulproteus", "waitingon": "", "keywords": [], "id": "724", "files": [], "history": [{"message": "Thanks to Pam for the review! Resolved and pushed: \n\n<a href=\"https://github.com/openhatch/oh-\">https://github.com/openhatch/oh-</a>\nmainline/commit/e629c39c5e8b1078baba5e06205f53cf8e0821cb\n   \n", "author": "paulproteus"}, {"message": "I have a pull request for this here: <a href=\"https://github.com/openhatch/oh-\">https://github.com/openhatch/oh-</a>\nmainline/pull/25\n\nFeedback appreciated! Note that the widget does not look totally awesome at the \nmoment, but this is better than a crash.\n   \n", "author": "paulproteus"}, {"message": "I think I see the problem. When this view gets called, this exception gets raised:\n\nTemplateDoesNotExist: account/widget.html\n\nKaren, did this get broken by the redesign do you think?\n\nAs a note, I wrote this unnecessarily long sample code to reproduce the problem:\n\nfrom django.contrib.auth import login\nfrom django.test.client import RequestFactory\nfrom django.contrib.sessions.middleware import SessionMiddleware\nfrom django.contrib.auth.middleware import AuthenticationMiddleware\nfrom django.middleware.common import CommonMiddleware\n\ndef create_request(url, username):\n    rf = RequestFactory()\n    request = rf.get(url)\n    for m in [CommonMiddleware, SessionMiddleware, AuthenticationMiddleware]:\n        i = m()\n        i.process_request(request)\n\n    # Get a specific user and log that user in (or change the user's name, or\nwhatever)\n    user = User.objects.get(username=username)\n    user.backend = 'django.contrib.auth.backends.ModelBackend'\n    login(request, user)\n\n    # Call the view directly with the new request\n    return request\n\nimport mysite.account.views\nrequest = create_request('/account/settings/widget', 'paulproteus')\nmysite.account.views.widget(request)\n   \n", "author": "paulproteus"}, {"message": "Thanks for submitting this! I'll see if I can reproduce it now.\n   \n", "author": "paulproteus"}, {"message": "On my settings page[1], I found a link titled \"Widgetize yourself\" which links\nto <a href=\"http://openhatch.org/account/settings/widget/\">http://openhatch.org/account/settings/widget/</a> and has a 500 Server Error.\nThanks :)\n\n____________\n[1]: <a href=\"http://openhatch.org/account/settings/location/\">http://openhatch.org/account/settings/location/</a>\n   \n", "author": "ashams"}]}