{"status": "resolved", "priority": "wish", "title": "Upgrade to Django 1.2: Make our models support model validation", "milestone": "0.11.04", "superceder": "", "nosylist": ["jesstess, paulproteus"], "assigned": "", "waitingon": "", "keywords": [], "id": "217", "files": [], "history": [{"message": "You know, I think this is okay now.\n   \n", "author": "paulproteus"}, {"message": "There are three things needed for us to upgrade to Django 1.2.\n\n1. Update buildout.cfg\n\n(This is easy.)\n\n2. Start using the csrf_token template tag around all of our POST forms.\n\n(This is easy enough.)\n\n3. <a href=\"http://docs.djangoproject.com/en/dev/releases/1.2/#model-validation\">http://docs.djangoproject.com/en/dev/releases/1.2/#model-validation</a>\n\nAs of Django 1.2, when you save a ModelForm, you validate not just the submitted\nform data, but you also check if that makes model valid.\n\nOur models, apparently, are of low quality, and sometimes fail this validation\ncheck. You can see that by running:\n\n./bin/sqlite_mysite test profile.AddCitationManually\n\nand watching it fail.\n\nI've already done steps 1-2, and pushed that work to origin/django12 on Gitorious.\n\nI'm filing this bug, but not going to work on it in the near future.\n   \n", "author": "paulproteus"}]}