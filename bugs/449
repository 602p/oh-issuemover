{"status": "resolved", "priority": "critical", "title": "\"all projects\" page returns 404", "milestone": "0.11.06", "superceder": "", "nosylist": ["bolotov, jesstess, palhmbs, paulproteus"], "assigned": "palhmbs", "waitingon": "", "keywords": [], "id": "449", "files": [{"url": "http://openhatch.org/bugs/file356/0001-Create-a-new-redirect2.patch", "author": "palhmbs"}], "history": [{"message": "Thanks for the backstory, paulproteus, and thanks for the patch, palhmbs. This has been deployed.\n   \n", "author": "jesstess"}, {"message": "So here's the backstory with the + marks:\n\nThey're there because Raffi AKA rafpaf AKA Raphael Krut-Landau AKA dithyramble\nalways wanted to move e.g. <a href=\"https://openhatch.org/people/paulproteus/\">https://openhatch.org/people/paulproteus/</a> to\n<a href=\"https://openhatch.org/paulproteus/\">https://openhatch.org/paulproteus/</a> . Therefore, most new URLs got a prefix of\n\"+\" to minimize the chance of collisions down the line.\n\nSo that's why it's +projects. It's \"missions\" because I made that URL and then\nforgot to stick to Raffi's convention.\n\nAlso, I think we made the +projects/* pages before we made the +projects/\nlisting page.\n\nSo at least you know the backstory now, and you can see how it's created inertia\nto keep things the way they are. If you want to do a URL reorganization, that'd\nbe okay, too, though I'd say it's a different ticket. (But if you do it here, I\nwon't complain, so long as you use HTTP permanent redirects to avoid wasting\nGoogle-juice.)\n   \n", "author": "paulproteus"}, {"message": "I don't understand why <a href=\"http://openhatch.org/+projects/\">http://openhatch.org/+projects/</a> is the preferred URL, when the rest of the \ntop-level navigation options don't have the '+' (eg. <a href=\"http://openhatch.org/people/,\">http://openhatch.org/people/,</a> \n<a href=\"http://openhatch.org/search/,\">http://openhatch.org/search/,</a> <a href=\"http://openhatch.org/missions/\">http://openhatch.org/missions/</a>). If someone can tell me why, I'm \nhappy to review this.\n   \n", "author": "jesstess"}, {"message": "Ok, sorry bout that. I've corrected it to use the HttpResponseRedirect.\n\nI'm not sure what caused the weirdness that allowed the link to be locally\nbroken vs fixed on the main OH server, but now I can't find a problem with the\nnav.html file or urls.py.\n   \n", "author": "palhmbs"}, {"message": "Hi Paul,\n\nYour patch has an issue: What you made wasn't a redirect; it was just a new URL\nmapping.\n\nLook through urls.py for HttpResponseRedirect, and please re-do it that way.\n\nAlso, good work root-causing the issue. Can you fix the template link so that we\ndon't link to /projects/ ?\n   \n", "author": "paulproteus"}, {"message": "I now see why this is such a problem, when your not logged in the landing-page\ndirects you to <a href=\"http://openhatch.org/projects/\">http://openhatch.org/projects/</a> - well, at least my local\ndevelopment server does. eg: <a href=\"http://localhost:8000/projects/\">http://localhost:8000/projects/</a> \n\nApparently the main OH server has the link fixed.\n\nAnyway, here's a patch to create the redirect.\n   \n", "author": "palhmbs"}, {"message": "Ok, so paulproteus suggested I could do a redirect in urls.py, assigned to me.\n   \n", "author": "palhmbs"}, {"message": "<a href=\"http://openhatch.org/projects/\">http://openhatch.org/projects/</a> does return a 404 - but for me\n<a href=\"http://openhatch.org/+projects/\">http://openhatch.org/+projects/</a> does not...\n\nit'll be some weirdness in mysite/urls.py maybe?\n   \n", "author": "palhmbs"}, {"message": "\"all projects\" (<a href=\"http://openhatch.org/+projects/\">http://openhatch.org/+projects/</a>) returns 404 error\n\nThe same is for (<a href=\"http://openhatch.org/projects/\">http://openhatch.org/projects/</a>) url\n   \n", "author": "bolotov"}]}