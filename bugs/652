{"status": "resolved", "priority": "urgent", "title": "Location data API called (used by the map) takes too long, and returns too much data", "milestone": "0.11.12", "superceder": "", "nosylist": ["paulproteus"], "assigned": "paulproteus", "waitingon": "", "keywords": [], "id": "652", "files": [], "history": [{"message": "I've fixed this in a merge with a pretty awesome (in my opinion) test that\nverifies we do only one SQL query, even in the face of multiple users:\n\n748b7db71b941cf9728dfb6254dbb8935d262c2b\n\nThis doesn't cause enough of a performance gain yet, probably because it can't\nget geocoded location data this way.\n   \n", "author": "paulproteus"}, {"message": "We send a bunch of data to the clients when they visit the /people/ map. It does\nat least one SQL query per person, unless parts of that person's data is in the\ncache...\n\nMost importantly, it takes ages to request. Let's make it way faster.\n   \n", "author": "paulproteus"}]}