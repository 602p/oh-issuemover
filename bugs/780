{"status": "resolved", "priority": "bug", "title": "When blog posts hit Facebook, they have WORDPRESS_TITLE all over them", "milestone": "", "superceder": "", "nosylist": ["paulproteus, vu2srk"], "assigned": "", "waitingon": "", "keywords": [], "id": "780", "files": [], "history": [{"message": "Fixed, as evidenced at <a href=\"https://www.facebook.com/openhatch/posts/433499116705218\">https://www.facebook.com/openhatch/posts/433499116705218</a>\n\nYay!\n   \n", "author": "paulproteus"}, {"message": "You can see at <a href=\"https://developers.facebook.com/tools/debug/og/object?\">https://developers.facebook.com/tools/debug/og/object?</a>\nq=https%3A%2F%2Fopenhatch.org%2Fblog%2F2012%2F that , with my changes to \n<a href=\"https://github.com/paulproteus/oh-wordpress-theme\">https://github.com/paulproteus/oh-wordpress-theme</a> and corresponding changes to oh-\nmainline &lt;<a href=\"https://github.com/openhatch/oh-\">https://github.com/openhatch/oh-</a>\nmainline/commit/b776a189f7e695b690751c273723115d1bf049cd&gt; the debug output is \nhappy.\n\nAlso, you can see that now at e.g. <a href=\"https://openhatch.org/blog/2012/getting-\">https://openhatch.org/blog/2012/getting-</a>\nstudents-involved-in-open-source-at-johns-hopkins/ the &lt;link rel=\"canonical\"&gt; \npoints to the page in question, not to the theme stub.\n\nvu2srk, thanks for pushing this forward! I'll leave it 'need-review' until we make \nanother post and can test that Facebook handled it properly. Once we make a blog \npost, the proof will be in the pudding.\n\nAlso, this Facebook issue identified a important issue in our theme, so I'm glad to \nsee that it was a vendor-agnostic issue in our code.\n   \n", "author": "paulproteus"}, {"message": "Oh, I think I found the problem:\n\n\n        &lt;link rel=\"canonical\" href=\"<a href=\"https://openhatch.org/+theme-\">https://openhatch.org/+theme-</a>\nstubs/wordpress/index\" /&gt;\n\nin pages e.g. view-source:<a href=\"https://openhatch.org/blog/2012/getting-students-\">https://openhatch.org/blog/2012/getting-students-</a>\ninvolved-in-open-source-at-johns-hopkins/\n\n<a href=\"https://developers.facebook.com/tools/debug/og/object?\">https://developers.facebook.com/tools/debug/og/object?</a>\nq=https%3A%2F%2Fopenhatch.org%2Fblog%2F2012%2Fgetting-students-involved-in-open-\nsource-at-johns-hopkins%2F is a useful lint too.\n   \n", "author": "paulproteus"}, {"message": "Thank you for these thoughts!\n\n* Can we use the HTML5 doctype instead of XHTML?\n\n* Plugins... interesting. I can look into that.\n\n* OpenGraph tags -- those are probably a good idea as a *first* resort, I'd say. \nFWIW you might find the documentation on our WordPress theme interesting: \n<a href=\"https://openhatch.readthedocs.org/en/latest/internals/wordpress.html\">https://openhatch.readthedocs.org/en/latest/internals/wordpress.html</a>\n\nI think the next thing to try is to add opengraph tags to \n<a href=\"https://github.com/paulproteus/oh-wordpress-theme\">https://github.com/paulproteus/oh-wordpress-theme</a> (as documented above). Feel \nfree to try your hand at that if you find it interesting, or not if not.\n   \n", "author": "paulproteus"}, {"message": "This is seen in certain themes on wordpress. We could try any on of the \nfollowing initially to see if it makes a difference:\n\n*  Make sure the doctype is :\n   &lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \n\"<a href=\"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd</a>\"&gt;\n\n*  Try turning off all the plugins in wordpress and switch them back on one by \none to see if any one of them causes the problem. There's an advertisement \nManagement plugin that causes this problem\n\n*  If nothing works, try integrating opengraph tags\n\nAlso while testing, we need to make sure we test it with a new link because \nfacebook caches previews and we wouldn't be able to tell if anything is working \neven if it's actually fixed.\n   \n", "author": "vu2srk"}, {"message": "Something has gone subtly, terribly, hilariously wrong.\n\nYou can see that we posted something called WORDPRESS_TITLE here: \n<a href=\"https://www.facebook.com/openhatch/posts/163261983817493\">https://www.facebook.com/openhatch/posts/163261983817493</a>\n   \n", "author": "paulproteus"}]}