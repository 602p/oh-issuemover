{"status": "resolved", "priority": "urgent", "title": "Every night, if /+meta/ shows some error conditions, email the Monitoring list", "milestone": "0.11.03", "superceder": "", "nosylist": ["jesstess, nacarino, paulproteus"], "assigned": "nacarino", "waitingon": "", "keywords": ["bitesize"], "id": "331", "files": [{"url": "http://openhatch.org/bugs/file158/0002-Committed-a-simple-test-to-check-the-meta-data-gener.patch", "author": "nacarino"}], "history": [{"message": "With jesstess's help on the Nagios configuration, this is fixed.\n\nIt is totally emailing us. Further bugs will have to be filed to adjust it so we\ndon't get emailed all the frickin' time!\n   \n", "author": "paulproteus"}, {"message": "Looks good! I merged all these patches.\n\nThere seems to be some problem with the Nagios configuration so that it's still\n\"unknown\" -- Jessica, can you take a look at that?\n\nI'm looking at <a href=\"http://linode2.openhatch.org/cgi-bin/nagios3/status.cgi?host=all\">http://linode2.openhatch.org/cgi-bin/nagios3/status.cgi?host=all</a>\nand secretly a little disappointed 'cause I don't know why it's not sending us\nemail!\n   \n", "author": "paulproteus"}, {"message": "I've added the simple test and the fix for the meta_data 0 division.\n\nCheers.\n   \n", "author": "nacarino"}, {"message": "(Adding you as the person this bug is \"assigned to\")\n   \n", "author": "paulproteus"}, {"message": "This looks good!\n\nPlease:\n\n git fetch origin\n git rebase origin/master\n\nbecause this is now live!\n\nI'm setting it up in Nagios now...\n   \n", "author": "paulproteus"}, {"message": "This adds the nagios management command. The meta check is used with -m.\n\nCheers.\n   \n", "author": "nacarino"}, {"message": "<a href=\"http://piratepad.net/plan\">http://piratepad.net/plan</a> has the plan for the rest.\n   \n", "author": "paulproteus"}, {"message": "This looks good. Check out <a href=\"http://openhatch.org/wiki/How_we_handle_patches\">http://openhatch.org/wiki/How_we_handle_patches</a>\n\nSome next steps:\n\n1. Please email <a href=\"mailto:devel@lists.openhatch.org\">devel@lists.openhatch.org</a> saying that you're okay with your work\nbeing under AGPLv3. If you're willing, it'd be nice if you say 'the Affero GPL,\nversion 3 or later, at your option'.\n\n2. There are some minor style changes I would make, but actually you don't have\nto worry about them; I can take care of them just after I push.\n\n!\n   \n", "author": "paulproteus"}, {"message": "This is a good bug for a (technical) newcomer to work on.\n   \n", "author": "paulproteus"}, {"message": "Right now, there are some bad things going on with regard to DataImportAttempts:\n\n<a href=\"https://openhatch.org/+meta/\">https://openhatch.org/+meta/</a>\n\nBut I didn't know, 'cause I don't get notifications for that page.\n\nTo achieve this bug:\n\n1. Modify the Django view that generates the /+meta/ page so that it's easy for\na script to figure out if there is an error condition\n\n2. Add code to the profile_daily_tasks that run the above code, and if there is\nan error, sends an email to monitoring @ lists.openhatch.org\n\n3. (Write tests for the above.)\n   \n", "author": "paulproteus"}]}