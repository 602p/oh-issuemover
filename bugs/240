{"status": "resolved", "priority": "wish", "title": "Snapshots should (but currently do not) include people's public tags", "milestone": "0.11.05", "superceder": "Snapshots should (but currently do not) include TrackerModel and TrackerQueryModel instances", "nosylist": ["Lorthirk, jessica, palhmbs, paulproteus"], "assigned": "paulproteus", "waitingon": "", "keywords": ["bitesize"], "id": "240", "files": [{"url": "http://openhatch.org/bugs/file272/0001-Snapshot-exporter-now-exports-tags-for-users-and-tag.patch", "author": "Lorthirk"}], "history": [{"message": "Hi Lorthirk!\n\nSome small bits of feedback, on things you could improve:\n\n* When I look in \"git log -p\", I see that you removed the newline at the end of\nthe snapshot_public_data.py file. We've been leaving the last character of the\nfile as the '\\n' character.\n\n* It would be nice if you left a comment in the snapshot_public_data.py file\nabout why it's safe to export *all* the tags. It looks a little suspicious to\nexport all of them without a comment (although I agree that it's correct).\n\n* Total nitpick: Usually we write comments as \"# comment\" not \"#comment\" (notice\nthe space character).\n\nNone of these are show-stoppers, since the patch passes its tests and looks\ngood. Good work! Pushing.\n   \n", "author": "paulproteus"}, {"message": "Added back the updated patch. Now it's ready to be reviewed.\n   \n", "author": "Lorthirk"}, {"message": "I removed the patch and put back the status to in-progress since I had an idea \nabout a small improvement of the test, which I hope to write down this evening.\n   \n", "author": "Lorthirk"}, {"message": "Patch attached, with the implementation + update of test_snapshot_person.\n   \n", "author": "Lorthirk"}, {"message": "I'm writing the test case now. Once this is done, <a href=\"issue391\">issue 391</a> can be taken care of \n(since they share the same code, and this is near to being closed, I think it's \nbest to close this before starting 391).\n   \n", "author": "Lorthirk"}, {"message": "Quietly bumping toward 0.11.05, gently.\n   \n", "author": "paulproteus"}, {"message": "snapshot_public_data.py now exports tags, tagtypes and tags_person_links correctly, \nbut an exception is being raised now in bug exporting (I suspect, due to no rows \npresent for table search_bugtracker in database). Test is still to be written.\n   \n", "author": "Lorthirk"}, {"message": "Jessica, adding you to nosy.\n\nYou were looking for bitesize-esque things to do. This one is maybe\nmouthful-size, but if you already know Django, it shouldn't be too crazy hard.\nFeel free to assign it to yourself and/or remove yourself from nosy.\n   \n", "author": "paulproteus"}, {"message": "If you like backend-type Python work, this is a good first bug to look at.\n\nPeople's \"tags\" are the self-labeled text people add to themselves, like at\n<a href=\"https://openhatch.org/people/paulproteus/\">https://openhatch.org/people/paulproteus/</a> the \"can pitch in with\" text.\n\nWe store these attached to a Person using the Link_Person_Tag model and the Tag\nand TagType model. You can find those in mysite/profile/models.py.\n\nWe create data snapshots -- see\n<a href=\"https://openhatch.org/wiki/Importing_a_data_snapshot\">https://openhatch.org/wiki/Importing_a_data_snapshot</a> for more information about\nthem. These nightly shapshots are helpful for developers to work on the\nOpenHatch code.\n\nThe problem is that the snapshots don't include these \"Tag\" objects, nor the\n\"Link_Person_Tag\" objects that tie the tags to a person. These tags are public\ninformation\n\nmysite/customs/management/commands/snapshot_public_data.py is where the code\nlives that does the snapshotting.\n\nThe point of this bug is so that the snapshot that we generate, with\nsnapshot_public_data, includes all instances of Link_Person_Tag, and any Tag\nobjects that requires.\n\nLong description -- but it's actually reasonably easy. When you submit it, you\nshould submit it with an automated test that verifies it works -- see \"class\nDataExport\" in mysite/customs/tests.py to see how to write one.\n\nAs always, we are available to help you work on this! Join us on #openhatch or\njust ask on this ticket.\n   \n", "author": "paulproteus"}, {"message": "Right now, the snapshots don't export people's tags. That's a shame.\n   \n", "author": "paulproteus"}]}