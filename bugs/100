{"status": "chatting", "priority": "wish", "title": "OpenHatch code doesn't generate valid HTML(5) markup", "milestone": "", "superceder": "", "nosylist": ["paulproteus, pythonian4000, rafpaf"], "assigned": "", "waitingon": "", "keywords": [], "id": "100", "files": [], "history": [{"message": "Some further thoughts:\n\n* The HTML5 schema is available as a RelaxNG schema:\n<a href=\"https://bitbucket.org/validator/syntax/src\">https://bitbucket.org/validator/syntax/src</a>\n* <a href=\"http://www.halfcooked.com/mt/archives/000892.html\">http://www.halfcooked.com/mt/archives/000892.html</a> lets you validate documents\nwith the RelaxNG schema\n* We could add something to our test runner so that if a page ever generates\ninvalid HTML(5) during test runs, the test fails.\n   \n", "author": "paulproteus"}, {"message": "I can't find any HTMl5 validators in Python yet, either.\n\n<a href=\"http://about.validator.nu/#src\">http://about.validator.nu/#src</a> says how to download it and run it locally,\nthough that's a Java-based app.\n\nI've pushed your patch!\n   \n", "author": "paulproteus"}, {"message": "I don't know what happened to the jQuery errors, but I just re-ran the validator\nand there were only two issues - a warning about the Content-Language state\nbeing obsolete, and an error with an extra &lt;/div&gt; tag at the bottom. Running it\nover my personal OH server's homepage also picked up on extra &lt;span&gt; tags in the\n\"Recent Activity\" box that only appeared when a user had entered an actual name.\nThe following patch fixes the two errors (ignoring the Content-Language issue\nfor now):\n\n<a href=\"http://git.jackgrigg.com/openhatch/patch/?id=7bf9e0ae68890be42bb5fad196c2ae65e3f786b4\">http://git.jackgrigg.com/openhatch/patch/?id=7bf9e0ae68890be42bb5fad196c2ae65e3f786b4</a>\n\nAs for the automated testing, I guess it would need to create a fake user and\ngenerate every possible HTML page the site could come up with, validating each\none in turn. I couldn't find (in my brief search) any Python modules for\nvalidating HTML5, but I did notice that <a href=\"http://about.validator.nu/\">http://about.validator.nu/</a> mentions that\nthey have an API, which could be useful.\n   \n", "author": "pythonian4000"}, {"message": "Someone should turn this bug into the following things:\n\n1. A list of what sorts of invalid HTML we're willing to use\n\n2. An automated test that \"Fails\" if use invalid markup beyond what our policy \nsays is okay\n\n3. A list of steps necessary to make that test pass\n   \n", "author": "paulproteus"}, {"message": "<a href=\"http://html5.validator.nu/?doc=http://openhatch.org\">http://html5.validator.nu/?doc=http://openhatch.org</a>\n\nFour errors, as of this writing. One is necessary for the way we use the jQuery \ntipsy plugin, but the others we could fix.\n   \n", "author": "paulproteus"}]}