{"status": "resolved", "priority": "urgent", "title": "Wiki: Login integration not working", "milestone": "0.11.09", "superceder": "", "nosylist": ["jesstess, paulproteus, pythonian4000"], "assigned": "paulproteus", "waitingon": "", "keywords": [], "id": "470", "files": [], "history": [{"message": "I've adjusted the nginx and php5-fpm configuration so the wiki runs through\nthat, not Apache.\n\nThat should finally resolve these problems. Let me/us know if they pop up again.\n   \n", "author": "paulproteus"}, {"message": "I'll take this bug, yeah.\n\nFor now, I chalk this up to to Apache2 mod_php oddities. I will convert the wiki\nto do what the blog does: run PHP through nginx and php5-fpm (FastCGI Process\nManager).\n\nI haven't seen these problems recently, and their intermittent nature makes it\nunclear if it's fixed. I'll mark it as fixed one I nginx-ify the wiki, and then\nif it recurs we mark as reopened.\n   \n", "author": "paulproteus"}, {"message": "Since this milestone is going to require a lot of wiki writing / input, I think\nI'll add this bug to it, for the sake of helping people contribute to that effort.\n   \n", "author": "aldeka"}, {"message": "Hi all,\n\nFor me, when I go to <a href=\"https://openhatch.org/wiki/\">https://openhatch.org/wiki/</a> and try to log in, I get\nredirected back to <a href=\"https://openhatch.org/wiki/\">https://openhatch.org/wiki/</a> without actually being logged in.\n\nThat's a drag.\n\nI suggest that we change the backend of the wiki's login integration. I think we\nshould stop querying the Django database from within the wiki, and instead the\nwiki should be a client that follows the (very simple)\n<a href=\"http://vanillaforums.org/page/ProxyConnect_SSO\">http://vanillaforums.org/page/ProxyConnect_SSO</a> protocol.\n\nThis has the following advantages:\n\n* Really easy to debug\n* Loose coupling, which means that changes in the Django database or its\nconfiguration don't affect the login integration\n\nDownsides:\n\n* We'd have to write new PHP code\n\nJack in particular, I'd like to know what you think.\n   \n", "author": "paulproteus"}]}