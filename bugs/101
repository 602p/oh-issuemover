{"status": "resolved", "priority": "feature", "title": "Migration of Bugzilla importers to a standardised format similar to Trac and Roundup", "milestone": "", "superceder": "", "nosylist": ["paulproteus, pythonian4000"], "assigned": "pythonian4000", "waitingon": "", "keywords": [], "id": "101", "files": [{"url": "http://openhatch.org/bugs/file39/bugzilla_importer_patches.patch", "author": "pythonian4000"}, {"url": "http://openhatch.org/bugs/file40/fix_test_stop_ohloh_calls.patch", "author": "pythonian4000"}], "history": [{"message": "Both of these patches/patch sets are deployed. You rock.\n   \n", "author": "paulproteus"}, {"message": "A quick patch to customs.BugzillaTests to stop it calling Ohloh - speeds up\ntest. Put on top of large patch.\n   \n", "author": "pythonian4000"}, {"message": "Here is a cumulative patch containing all of the changes I have made in\nmigrating the Bugzilla importer to the new format. Includes the modification\ndescribed below to only catch HTTP errors.\n   \n", "author": "pythonian4000"}, {"message": "Some more patches:\n\n* Quick fix for the quick fix - left out a closing bracket *facepalm*\n\n* Added requested bug trackers to the Bugzilla importer.\n\n* Subsequently disabled the Locamotion tracker due to the XML bug data causing\nlxml to throw lxml.etree.XMLSyntaxError\n\nI will combine all these commits into a single patch file once I have finished\nmodifying the quick fix so that it only catches HTTP 500 Errors (which presently\ninvolves waiting for the Mozilla tracker to throw one again!)\n   \n", "author": "pythonian4000"}, {"message": "Whoops! Forgot to remove the TestCase for the old Bugzilla code. Additional\npatch removes it.\n   \n", "author": "pythonian4000"}, {"message": "Another patch to follow the last. This one removes all the old Bugzilla import\ncode and enables the new importer. There is also a quick fix to stop the\nimporter breaking on Bugzilla tracker HTTP 500 errors.\n   \n", "author": "pythonian4000"}, {"message": "Here is a patch for the new format Bugzilla importer. It is not enabled as yet\nin search_daily_tasks, though the supporting code for it is there.\n   \n", "author": "pythonian4000"}, {"message": "This is a ticket I have put up to track the migration of the Bugzilla bug\nimporters to a format like the Trac and Roundup importers, where there is a\nsingle base class with an update() method, and each bug tracker subclasses this.\nI'm thinking of using the same layout as the Trac importer (imporing code in\nsearch/tasks, actual Bugzilla I/O in customs/bugtrackers). There are a few ideas\nfrom the Roundup importer I'm going to use though, such as the overloaded method\nper tracker for getting the tracker-specific data from the bug ticket.\n\nInitially this will sit along side the other format until it is finished and\ntested, at which point the old format can be removed.\n   \n", "author": "pythonian4000"}]}