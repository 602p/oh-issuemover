{"status": "resolved", "priority": "critical", "title": "Uncaught SyntaxError: Unexpected token >", "milestone": "", "superceder": "", "nosylist": ["brittag, konarkmodi, morgajel, paulproteus"], "assigned": "konarkmodi", "waitingon": "", "keywords": [], "id": "875", "files": [], "history": [{"message": "This PR seems to resolve the reported bug, so marking it as such. Feel free to reopen if a more elegant \nsolution is desired, etc.\n   \n", "author": "mandarg"}, {"message": "Submitted pull request <a href=\"https://github.com/openhatch/oh-mainline/pull/167\">https://github.com/openhatch/oh-mainline/pull/167</a> for this, which should \nat least partially solve this issue.\n   \n", "author": "mandarg"}, {"message": "The answer is probably as simple as replacing something like:\n\n&lt;a href=\"{{ variable }}\"&gt;\n\nwith\n\n&lt;a href=\"{{ variable | filter_for_html_attribute_safety }}\"&gt;\n\nI just don't know the name of the filter for HTML attribute safety.\n   \n", "author": "paulproteus"}, {"message": "Awesome!\n\nI think the core thing here is that in the template that generates the projects \npage, we're putting data into HTML attributes that is not properly escaped.\n\nHelpful reading:\n\n* <a href=\"http://security.stackexchange.com/questions/27805/is-djangos-built-in-\">http://security.stackexchange.com/questions/27805/is-djangos-built-in-</a>\nsecurity-enough\n\n* <a href=\"https://docs.djangoproject.com/en/dev/topics/security/\">https://docs.djangoproject.com/en/dev/topics/security/</a> (section on XSS)\n\nThis is an XSS-type attack, and it only partly succeeds.\n\nI don't know the standard Django way to escape a value in a way safe for HTML \nattributes. I'm surprised the Django security docs don't contain a \nrecommendation about that.\n   \n", "author": "paulproteus"}, {"message": "I'll take a look at it and work on it !!!\n   \n", "author": "konarkmodi"}, {"message": "The last item that displays on the page is this very interesting one: \n<a href=\"http://openhatch.org/projects/%22%22%3E%3Cscript%3Ealert%28%223%22%29%3C/script%3E\">http://openhatch.org/projects/%22%22%3E%3Cscript%3Ealert%28%223%22%29%3C/script%3E</a>\n   \n", "author": "brittag"}, {"message": "This is almost definitely an escaping error in an HTML attribute, where \nwe're generating a link by embedding a Django variable (probably \nproject.name) without also doing HTML attribute escaping on it.\n\nThe quick fix is to find that accidental wrong escaping. The better fix \nmight be to think about what we want users to get out of that page, and to \nremove it if the list is empty.\n\nStill, someone fixing this would be a huge help! It's probably even \nbitesized.\n   \n", "author": "paulproteus"}, {"message": "<a href=\"http://openhatch.org/projects/\">http://openhatch.org/projects/</a>\n\nPage is truncated and says \"Uncaught SyntaxError: Unexpected token &gt; \" in the \nconsole log.\n   \n", "author": "morgajel"}]}