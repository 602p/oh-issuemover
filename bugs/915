{"status": "resolved", "priority": "critical", "title": "XSS issue in project name field", "milestone": "", "superceder": "", "nosylist": ["brittag, mandarg, paulproteus"], "assigned": "", "waitingon": "", "keywords": [], "id": "915", "files": [{"url": "http://openhatch.org/bugs/file640/Screen%20Shot%202014-01-07%20at%209.10.36%20AM.png", "author": "blues_chick"}], "history": [{"message": "Completed test on Mac OSx Mavericks using Firefox v26.0 and Chrome\nv31.0.1650.63. Code used was most recent OH-mainline/master.\n\nThere are no pop-ups when adding or deleting the test string. The project name\ngets displayed as \"\"&gt; after the save completes.\n\nMy recommendation is mark this issue closed for XSS popups in project name field.\n\nThanks!\n   \n", "author": "blues_chick"}, {"message": "Awesome! I will retest as soon as I am able. Great work getting one step closer\nto closing this one :)\n   \n", "author": "blues_chick"}, {"message": "I forgot that there were some required Javascript changes.\n\nPlease re-test, brittag and/or blueschick.\n\nI have tested it and it now works great. Sorry to deploy this by accident when \nonly half ready.\n   \n", "author": "paulproteus"}, {"message": "I redid a test this morning using 'git clone' and 'git checkout' since I didn't\nhave last night's log to be 100% certain. Please see attached screenshot for\nsteps taken.\n\nUsing Firefox v26.0, I am getting a popup when saving after adding a new project.\n\nI realized this morning that OH is running Django 1.3.3 and I was looking at\ncurrent Django dev documentation for a more current release.\n   \n", "author": "blues_chick"}, {"message": "When doing the 'git clone', did you use 'git checkout' or similar to \nswitch branches, locally? That's essential in testing when you're not \ntesting the default branch (\"master\").\n   \n", "author": "paulproteus"}, {"message": "I did a git clone of <a href=\"https://github.com/paulproteus/oh-mainline/fix/issue915\">https://github.com/paulproteus/oh-mainline/fix/issue915</a>\n\nWhen I added the project as a new project using the \"\"&gt;&lt;img src=x\nonerror=prompt(1);&gt; as its name, I am getting a popup.\n\nI get the same results as <a href=\"msg4030\">msg4030</a> for display of the project name.\n   \n", "author": "blues_chick"}, {"message": "I checked this out on my local copy (by doing \"git pull <a href=\"https://github.com/paulproteus/oh-mainline\">https://github.com/paulproteus/oh-mainline</a> \nfix/<a href=\"issue915\">issue915</a>\"), and when I visit my test profile page that has this string in a project name, I no \nlonger get a popup. The project name displays as \"\"&gt; instead of displaying as \"\"&gt;&lt;img src=x \nonerror=prompt(1);&gt; though, and I wonder if that's a sign of the escaping not working entirely \nproperly?\n\nBut more important: when I go to the project editor, add a new project with this string as its name, \nand click \"save all projects\", I get the popup twice.\n\nSo this seems partly fixed but not completely?\n   \n", "author": "brittag"}, {"message": "\n  <a href=\"https://github.com/openhatch/oh-mainline/pull/189\">https://github.com/openhatch/oh-mainline/pull/189</a>\n\n   \n", "author": "paulproteus"}, {"message": ": D\n\nI can totally reproduce this. Looking into a good fix now.\n   \n", "author": "paulproteus"}, {"message": "Putting a special string into the project name field causes a Javascript popup, which it really \nshouldn't. Here's the string: \"\"&gt;&lt;img src=x onerror=prompt(1);&gt;\n\nHere's a demonstration by the reporter: <a href=\"http://openhatch.org/people/pik4chu/\">http://openhatch.org/people/pik4chu/</a> - and I also \nreproduced it myself.\n\nThis seems very related to the problem at <a href=\"https://openhatch.org/bugs/issue875\">https://openhatch.org/bugs/issue875</a> - which was also \nabout project names not being escaped properly.\n   \n", "author": "brittag"}]}