{"status": "resolved", "priority": "urgent", "title": "Nightly customs job hits Unicode-related exception", "milestone": "0.10.12", "superceder": "", "nosylist": ["paulproteus"], "assigned": "paulproteus", "waitingon": "", "keywords": [], "id": "191", "files": [], "history": [{"message": "Yup, this is fixed.\n\nThere's still an AttributeError stopping nightly bug crawls from finishing,\nthat's filed as <a href=\"issue201\">issue201</a>.\n\nClosing!\n   \n", "author": "paulproteus"}, {"message": "I just pushed a fix for this. We'll find out tonight if it worked!\n   \n", "author": "paulproteus"}, {"message": "File\n\"/home/deploy/milestone-a/mysite/customs/management/commands/customs_daily_tasks.py\",\nline 160, in check_for_broken_ohloh_links\n    if mysite.customs.ohloh.link_works(citation.url):\n  File \"/home/deploy/milestone-a/mysite/customs/ohloh.py\", line 74, in link_works\n    req = mechanize_get(url)\n  File \"/home/deploy/milestone-a/mysite/customs/ohloh.py\", line 46, in mechanize_get\n    b.open(url)\n  File\n\"/home/deploy/milestone-a/eggs/mechanize-0.2.1-py2.6.egg/mechanize/_mechanize.py\",\nline 204, in open\n    return self._mech_open(url, data, timeout=timeout)\n  File\n\"/home/deploy/milestone-a/eggs/mechanize-0.2.1-py2.6.egg/mechanize/_mechanize.py\",\nline 231, in _mech_open\n    response = UserAgentBase.open(self, request, data)\n  File\n\"/home/deploy/milestone-a/eggs/mechanize-0.2.1-py2.6.egg/mechanize/_opener.py\",\nline 193, in open\n    response = urlopen(self, req, data)\n  File\n\"/home/deploy/milestone-a/eggs/mechanize-0.2.1-py2.6.egg/mechanize/_urllib2_fork.py\",\nline 344, in _open\n    '_open', req)\n  File\n\"/home/deploy/milestone-a/eggs/mechanize-0.2.1-py2.6.egg/mechanize/_urllib2_fork.py\",\nline 332, in _call_chain\n    result = func(*args)\n  File\n\"/home/deploy/milestone-a/eggs/mechanize-0.2.1-py2.6.egg/mechanize/_urllib2_fork.py\",\nline 1170, in https_open\n    return self.do_open(conn_factory, req)\n  File\n\"/home/deploy/milestone-a/eggs/mechanize-0.2.1-py2.6.egg/mechanize/_urllib2_fork.py\",\nline 1115, in do_open\n    h.request(req.get_method(), req.get_selector(), req.data, headers)\n  File \"/usr/lib/python2.6/httplib.py\", line 910, in request\n    self._send_request(method, url, body, headers)\n  File \"/usr/lib/python2.6/httplib.py\", line 947, in _send_request\n    self.endheaders()\n  File \"/usr/lib/python2.6/httplib.py\", line 904, in endheaders\n    self._send_output()\n  File \"/usr/lib/python2.6/httplib.py\", line 776, in _send_output\n    self.send(msg)\n  File \"/usr/lib/python2.6/httplib.py\", line 755, in send\n    self.sock.sendall(str)\n  File \"/usr/lib/python2.6/ssl.py\", line 203, in sendall\n    v = self.send(data[count:])\n  File \"/usr/lib/python2.6/ssl.py\", line 94, in &lt;lambda&gt;\n    self.send = lambda data, flags=0: SSLSocket.send(self, data, flags)\n  File \"/usr/lib/python2.6/ssl.py\", line 174, in send\n    v = self._sslobj.write(data)\nUnicodeEncodeError: 'ascii' codec can't encode character u'\\xe9' in position 8:\nordinal not in range(128)\n   \n", "author": "paulproteus"}]}