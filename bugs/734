{"status": "resolved", "priority": "bug", "title": "Diff single file mission refuses to accept anything", "milestone": "0.13.08", "superceder": "", "nosylist": ["nickelmu, paulproteus, vintermann"], "assigned": "nickelmu", "waitingon": "", "keywords": [], "id": "734", "files": [], "history": [{"message": "As of 1/4/2014, I was unable to reproduce the issue. \n\nThe files referenced in original report no longer exist in mysite/missions/diffpatch/data \n(<a href=\"https://github.com/openhatch/oh-mainline/tree/master/mysite/missions/diffpatch/data\">https://github.com/openhatch/oh-mainline/tree/master/mysite/missions/diffpatch/data</a>) -- \nperhaps resolved when recipe text data were added instead?\n   \n", "author": "nickelmu"}, {"message": "But alas, changing the wrap to off on that particular form did not help.\n   \n", "author": "vintermann"}, {"message": "Amazing spotting, vintermann.\n\nCan you submit a patch for this? If not, due to the excellent work you've \ndone identifying the issue, others should be able to in due course.\n   \n", "author": "paulproteus"}, {"message": "It definitively has to do with the text. I changed diffsingle.txt to only\ncontain the word \"before\" and diffsingle_result.txt to only contain the word\n\"after\", and when I made a patch of that and pasted it, it worked.\n   \n", "author": "vintermann"}, {"message": "I haven't been able to set up a local site yet (it's 23:37 here) but I have a\nguess to what the error is: I notice that the patch I get from the current file\nhas lines longer than 80 characters. The patch from the old files didn't. My\nguess is the form hard-wraps (and thus breaks) the pasted patch.\n   \n", "author": "vintermann"}, {"message": "The \"diffing individual files\" step under the \"Using diff and patch\" mission\nappears to be broken. \n\nI downloaded the source from git, and found the two correct files\n(diffsingle.txt and diffsingle_result.txt in mysite/missions/diffpatch/data).\nRunning 'diff -u diffsingle.txt diffsingle_result.txt' in that directory\nprovides a patch which the form does not accept. So the problem is definitively\nnot on our side (there are four people in the forums saying this test doesn't\nwork now).\n\nI think it must have been the changes to the text on 2. may (commit\nc392308096fa5513d61b0e68f1d792e1778ac821) that introduced this bug, but I\nhaven't figured out what causes it yet.\n\nInterestingly, the form does give the proper error message if you enter a\ngarbled patch, or a reversed patch.\n   \n", "author": "vintermann"}]}